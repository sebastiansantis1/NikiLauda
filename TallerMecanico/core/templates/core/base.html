<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Niki Lauda Taller{% endblock %}</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css">

    <style>
        :root {
            --rojo-ferrari: #D90429;
            --rojo-ferrari-oscuro: #A3001F;
            --negro-carbon: #0B0C10;
            --gris-metal: #1F2833;
            --amarillo-f1: #FFC300;
        }

        body {
            background-color: var(--negro-carbon);
            color: white;
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
        }

        /* SIDEBAR */
        .sidebar {
            width: 250px;
            height: 100vh;
            background-color: var(--gris-metal);
            position: fixed;
            top: 0;
            left: 0;
            border-right: 3px solid var(--rojo-ferrari);
            padding-top: 20px;
            z-index: 1000;
        }

        .sidebar .brand {
            text-align: center;
            margin-bottom: 30px;
        }

        .sidebar .brand img {
            max-width: 180px;
            filter: drop-shadow(0 0 3px black);
        }

        .sidebar a {
            display: block;
            padding: 12px 25px;
            color: #FFF;
            text-decoration: none;
            font-size: 1.1rem;
            border-left: 3px solid transparent;
            transition: 0.2s;
        }

        .sidebar a:hover {
            background-color: #11141A;
            border-left: 3px solid var(--amarillo-f1);
            color: var(--amarillo-f1);
        }

        /* CONTENIDO */
        .content {
            margin-left: 250px;
            padding: 40px;
        }

        .card {
            background-color: var(--gris-metal);
            border-left: 4px solid var(--rojo-ferrari);
        }

        .btn-primary {
            background-color: var(--rojo-ferrari);
            border: none;
        }

        .btn-primary:hover {
            background-color: var(--rojo-ferrari-oscuro);
        }

        /* ====== FIX VISIBILIDAD DEL TEXTO ====== */

        /* Texto normal */
        body, p, span, li, td {
            color: #EAEAEA !important;  /* Gris claro elegante */
        }

        /* Subtítulos o textos secundarios */
        .text-muted, small {
            color: #BFC7D5 !important; /* Gris medio visible */
        }

        /* Encabezados */
        h1, h2, h3, h4, h5, h6 {
            color: #FFFFFF !important; /* Blanco puro */
        }

        /* Títulos estilo F1 */
        .f1-title {
            color: var(--amarillo-f1) !important;
            text-shadow: 0 0 3px #000;
        }

        /* Enlaces */
        a {
            color: #4DA8FF !important; /* Azul brillante racing */
            text-decoration: none;
        }

        a:hover {
            color: #82C6FF !important;
        }

    </style>

    {% block extra_css %}{% endblock %}
</head>

<body>

    <!-- SIDEBAR -->
    <div class="sidebar">

        <!-- LOGO -->
        <div class="brand">
            <img src="/static/img/logo_nikilauda.svg" alt="Niki Lauda Taller">
        </div>

        <a href="/"><i class="bi bi-house-fill me-2"></i> Inicio</a>

        <a href="{% url 'registrar_trabajo' %}">
            <i class="bi bi-clipboard-plus me-2"></i> Registrar Trabajo
        </a>

        <a href="{% url 'lista_trabajos' %}">
            <i class="bi bi-list-task me-2"></i> Ver Trabajos
        </a>

        {% if user.is_authenticated and user.perfil.rol == "ADMIN" %}
        <a href="{% url 'gestionar_usuarios' %}">
            <i class="bi bi-speedometer2 me-2"></i> Panel Admin
        </a>

        <a href="{% url 'gestionar_usuarios' %}">
            <i class="bi bi-people-fill me-2"></i> Usuarios
        </a>

        <a href="{% url 'crear_usuario' %}">
            <i class="bi bi-person-plus-fill me-2"></i> Crear Usuario
        </a>
        {% endif %}

        {% if user.is_authenticated %}
        <a href="{% url 'logout' %}">
            <i class="bi bi-box-arrow-right me-2"></i> Cerrar Sesión
        </a>
        {% else %}
        <a href="{% url 'login' %}">
            <i class="bi bi-box-arrow-in-right me-2"></i> Ingresar
        </a>
        {% endif %}
    </div>

    <!-- CONTENIDO PRINCIPAL -->
    <div class="content">
        {% block content %}{% endblock %}
    </div>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    {% block extra_js %}{% endblock %}
</body>
</html>



{% extends "core/base.html" %}
{% block title %}Cambiar Rol{% endblock %}

{% block content %}

<div class="f1-card" style="max-width:600px;margin:auto;">
    <h2 class="f1-title mb-3">ðŸ”§ Cambiar Rol de Usuario</h2>

    <p class="mb-2">
        Usuario: <strong>{{ usuario.user.username }}</strong><br>
        RUT: <strong>{{ usuario.rut }}</strong><br>
        Rol actual: <span class="badge bg-info">{{ usuario.get_rol_display }}</span>
    </p>

    {% if error %}
        <div class="alert alert-danger">
            {{ error }}
        </div>
    {% endif %}

    <form method="POST">
        {% csrf_token %}

        <div class="mb-3">
            <label class="form-label">Nuevo Rol</label>
            <select name="rol" class="form-select">
                <option value="ADMIN" {% if usuario.rol == "ADMIN" %}selected{% endif %}>Administrador</option>
                <option value="ENCARGADO" {% if usuario.rol == "ENCARGADO" %}selected{% endif %}>Encargado del Taller</option>
                <option value="MECANICO" {% if usuario.rol == "MECANICO" %}selected{% endif %}>MecÃ¡nico</option>
            </select>
        </div>

        <button class="btn btn-primary w-100 mt-3">
            Guardar Cambios
        </button>
    </form>
</div>

<div class="text-center mt-3">
    <a href="{% url 'gestionar_usuarios' %}" class="btn btn-outline-light">â¬… Volver a GestiÃ³n de Usuarios</a>
</div>

{% endblock %}

